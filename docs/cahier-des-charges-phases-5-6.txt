ğŸ“šÂ CAHIER DES CHARGES DÃ‰TAILLÃ‰ - MVP WE EVENT
ğŸ¯Â 1. VISION GÃ‰NÃ‰RALE DE LA PLATEFORME
Nom du projet :Â We Event
Objectif principal :Â We Event est une plateforme Ã©vÃ©nementielle tout-en-un, conÃ§ue pour simplifier l'organisation de mariages et autres Ã©vÃ©nements spÃ©ciaux. Elle met en relation clients et prestataires, et offre des outils de gestion pour chaque rÃ´le (Client, Partenaire, Administrateur).
Publics cibles :
Clients :Â Particuliers organisant un Ã©vÃ©nement (mariage, anniversaire, etc.).
Partenaires :Â Prestataires de services Ã©vÃ©nementiels (photographes, DJs, traiteurs, lieux, dÃ©corateurs, etc.).
Administrateurs :Â Ã‰quipe interne We Event pour la gestion et la supervision de la plateforme.
Ã‰tat actuel de la MVP :Â La MVP dispose d'une interface utilisateur (UI) et d'une expÃ©rience utilisateur (UX) trÃ¨s abouties, avec un design moderne, rÃ©actif et des animations fluides. Cependant, la majeure partie des fonctionnalitÃ©s est actuellement "mockÃ©e" (simulÃ©e avec des donnÃ©es statiques en frontend) et n'est pas connectÃ©e Ã  un backend persistant. L'application est dÃ©veloppÃ©e avec React, TypeScript et Tailwind CSS sur la plateforme Base44.
ğŸ’»Â 2. ARCHITECTURE TECHNIQUE ET STACK
Frontend :Â React, TypeScript, Tailwind CSS, Shadcn/UI, Framer Motion, date-fns, recharts, react-router-dom, react-hook-form, react-markdown, react-quill.
Backend / BaaS :Â Plateforme Base44.
Base de donnÃ©es :Â GÃ©rÃ©e par Base44 (basÃ©e sur des entitÃ©s JSON Schema).
Authentification :Â GÃ©rÃ©e par Base44.
Fonctions Backend (Deno) :Â Pour les logiques mÃ©tier complexes ou les intÃ©grations externes.
IntÃ©grations :Â base44.integrations.CoreÂ pour l'upload de fichiers, etc.
SDK :Â base44Â client pour interagir avec les entitÃ©s, fonctions et l'authentification.
Fichiers :Â Stockage gÃ©rÃ© par Base44.
ğŸ“¦Â 3. ENTITÃ‰S DE LA BASE DE DONNÃ‰ES
Toutes les entitÃ©s suivantes ont Ã©tÃ© dÃ©finies dans le backend Base44 (fichiersÂ entities/*.json). Chaque enregistrement inclut automatiquementÂ id,Â created_date,Â updated_date,Â created_by.
UserÂ (EntitÃ© Base44 Ã©tendue)
Attributs supplÃ©mentaires Ã  envisager :Â address,Â phone_number,Â profile_picture_url,Â event_preferences, etc.
RÃ´les :Â admin,Â userÂ (client),Â partner.
EventÂ (Ã‰vÃ©nements clients)
titleÂ (string) : Titre de l'Ã©vÃ©nement.
event_typeÂ (enum: Mariage, Anniversaire, Corporate, Gala, Autre)
event_dateÂ (date)
locationÂ (string)
cityÂ (string)
departmentÂ (string)
guests_countÂ (integer) : Nombre d'invitÃ©s prÃ©vus.
guests_confirmedÂ (integer, default: 0) : Nombre d'invitÃ©s confirmÃ©s.
budgetÂ (number)
statusÂ (enum: draft, planning, confirmed, completed, cancelled, default: draft)
mini_site_slugÂ (string) : Slug pour l'URL du mini-site.
mini_site_publishedÂ (boolean, default: false)
client_idÂ (string,Â lien vers User)
partner_idsÂ (array of strings,Â lien vers Partner)
PartnerÂ (Profils prestataires)
user_emailÂ (string) : Email de l'utilisateur liÃ© (clÃ© unique).
company_nameÂ (string)
categoryÂ (enum: Photo/VidÃ©o, DJ, Lieu, Traiteur, DÃ©coration, Son/LumiÃ¨re, Animation, Autre)
descriptionÂ (string)
locationÂ (string)
phoneÂ (string)
websiteÂ (string)
ratingÂ (number, default: 0)
reviews_countÂ (integer, default: 0)
events_countÂ (integer, default: 0)
subscriptionÂ (enum: Basic, Standard, Premium, default: Basic)
statusÂ (enum: pending, active, suspended, default: pending)
verifiedÂ (boolean, default: false)
gamification_pointsÂ (integer, default: 0)
PackageÂ (Offres de services par les partenaires)
partner_idÂ (string,Â lien vers Partner)
nameÂ (string)
descriptionÂ (string)
categoryÂ (string)
priceÂ (number)
price_unitÂ (enum: forfait, par_personne, par_heure, par_jour, default: forfait)
featuresÂ (array of strings) : Prestations incluses.
imagesÂ (array of strings) : URLs des images (stockÃ©es via UploadFile).
statusÂ (enum: draft, pending, approved, rejected, default: draft)
sales_countÂ (integer, default: 0)
revenueÂ (number, default: 0)
BookingÂ (RÃ©servations de packages par les clients)
event_idÂ (string,Â lien vers Event)
package_idÂ (string,Â lien vers Package)
partner_idÂ (string,Â lien vers Partner)
client_emailÂ (string)
amountÂ (number)
statusÂ (enum: pending, confirmed, completed, cancelled, default: pending)
payment_statusÂ (enum: unpaid, partial, paid, default: unpaid)
notesÂ (string)
MessageÂ (Messages individuels dans une conversation)
conversation_idÂ (string,Â lien vers Conversation)
sender_emailÂ (string)
sender_nameÂ (string)
contentÂ (string)
attachmentsÂ (array of strings) : URLs des fichiers joints.
readÂ (boolean, default: false)
ConversationÂ (Regroupe les messages entre un client et un partenaire pour un Ã©vÃ©nement)
client_emailÂ (string)
partner_idÂ (string,Â lien vers Partner)
event_idÂ (string,Â lien vers Event)
last_messageÂ (string)
last_message_dateÂ (datetime)
unread_countÂ (integer, default: 0)
statusÂ (enum: active, archived, default: active)
PhotoÂ (Photos Ã©vÃ©nementielles)
event_idÂ (string,Â lien vers Event)
urlÂ (string) : URL de la photo (stockÃ©e via UploadFile).
uploader_emailÂ (string)
uploader_nameÂ (string)
typeÂ (enum: pro, guest) : Photo professionnelle ou invitÃ©.
categoryÂ (enum: cÃ©rÃ©monie, rÃ©ception, soirÃ©e, dÃ©coration, portraits, groupe, autre)
likesÂ (integer, default: 0)
liked_byÂ (array of strings) : Emails des utilisateurs ayant likÃ©.
VideoÂ (VidÃ©os Ã©vÃ©nementielles)
event_idÂ (string,Â lien vers Event)
titleÂ (string)
urlÂ (string) : URL de la vidÃ©o (stockÃ©e via UploadFile).
thumbnailÂ (string) : URL de la miniature.
uploader_emailÂ (string)
uploader_nameÂ (string)
typeÂ (enum: pro, guest)
durationÂ (string, format: MM:SS)
statusÂ (enum: draft, review, approved, published, default: draft)
VideoCommentÂ (Commentaires horodatÃ©s sur les vidÃ©os)
video_idÂ (string,Â lien vers Video)
author_emailÂ (string)
author_nameÂ (string)
timecodeÂ (integer) : Position dans la vidÃ©o en ms.
selection_startÂ (integer) : DÃ©but de sÃ©lection en ms.
selection_endÂ (integer) : Fin de sÃ©lection en ms.
textÂ (string)
ContractÂ (Contrats entre client et partenaire)
booking_idÂ (string,Â lien vers Booking)
contract_numberÂ (string)
client_emailÂ (string)
partner_idÂ (string,Â lien vers Partner)
serviceÂ (string)
amountÂ (number)
contentÂ (string) : Contenu HTML ou texte du contrat.
statusÂ (enum: draft, pending, signed, cancelled, default: draft)
signed_dateÂ (datetime)
signature_dataÂ (string) : DonnÃ©es de signature (base64).
signer_nameÂ (string)
signer_ipÂ (string)
InvoiceÂ (Factures)
booking_idÂ (string,Â lien vers Booking)
invoice_numberÂ (string)
client_emailÂ (string)
partner_idÂ (string,Â lien vers Partner)
provider_nameÂ (string)
serviceÂ (string)
amountÂ (number)
statusÂ (enum: pending, paid, overdue, cancelled, default: pending)
due_dateÂ (date)
paid_dateÂ (date)
stripe_payment_intent_idÂ (string) : ID de transaction Stripe.
TaskÂ (TÃ¢ches pour les Ã©vÃ©nements)
event_idÂ (string,Â lien vers Event)
assigned_to_emailÂ (string)
titleÂ (string)
descriptionÂ (string)
due_dateÂ (date)
priorityÂ (enum: low, medium, high, default: medium)
statusÂ (enum: todo, in_progress, done, default: todo)
categoryÂ (string)
PlaylistÂ (Playlists musicales clients)
event_idÂ (string,Â lien vers Event)
nameÂ (string)
songsÂ (array of objects:Â {title: string, artist: string, duration: string, moment: string})
avoid_songsÂ (array of strings)
moodÂ (string)
dj_partner_idÂ (string,Â lien vers Partner)
statusÂ (enum: draft, shared, confirmed, default: draft)
MenuItemÂ (Ã‰lÃ©ments du menu traiteur)
event_idÂ (string,Â lien vers Event)
nameÂ (string)
categoryÂ (enum: entrÃ©e, plat, dessert, boisson, autre)
descriptionÂ (string)
allergensÂ (array of strings)
dietary_tagsÂ (array of strings: vÃ©gÃ©tarien, vegan, sans gluten, halal, casher)
price_per_personÂ (number)
availableÂ (boolean, default: true)
GuestMenuChoiceÂ (Choix de menu par invitÃ©)
event_idÂ (string,Â lien vers Event)
guest_nameÂ (string)
guest_emailÂ (string)
starter_idÂ (string,Â lien vers MenuItem)
main_course_idÂ (string,Â lien vers MenuItem)
dessert_idÂ (string,Â lien vers MenuItem)
allergiesÂ (string)
special_requestsÂ (string)
table_numberÂ (integer)
InspirationÂ (Contenus d'inspiration pour les clients)
titleÂ (string)
image_urlÂ (string)
categoryÂ (string,Â lien vers Category)
themeÂ (string)
tagsÂ (array of strings)
photographer_idÂ (string,Â lien vers Partner)
photographer_nameÂ (string)
partnersÂ (array of objects:Â {id: string, name: string, type: string})
likesÂ (integer, default: 0)
viewsÂ (integer, default: 0)
statusÂ (enum: draft, published, default: draft)
CategoryÂ (CatÃ©gories d'inspiration)
nameÂ (string)
slugÂ (string)
countÂ (integer, default: 0)
activeÂ (boolean, default: true)
orderÂ (integer)
TrendÂ (Tendances (pour l'inspiration))
nameÂ (string)
iconÂ (string) : Emoji ou nom d'icÃ´ne.
activeÂ (boolean, default: true)
orderÂ (integer)
UserInspirationÂ (Inspirations sauvegardÃ©es par les clients)
user_emailÂ (string)
event_idÂ (string,Â lien vers Event)
inspiration_idÂ (string,Â lien vers Inspiration)
PodcastÂ (Contenus audio)
titleÂ (string)
descriptionÂ (string)
providerÂ (string)
typeÂ (enum: podcast, talkshow)
audio_urlÂ (string)
cover_emojiÂ (string)
durationÂ (string, format: HH:MM:SS)
themeÂ (enum: Mariage, TÃ©moignages, Conseils Pro, Tendances, Organisation, Budget, DÃ©coration, Autre)
listensÂ (integer, default: 0)
ratingÂ (number, default: 0)
ratings_countÂ (integer, default: 0)
statusÂ (enum: draft, published, default: draft)
EventSiteÂ (Configuration des mini-sites Ã©vÃ©nementiels)
event_idÂ (string,Â lien vers Event)
slugÂ (string)
titleÂ (string)
cover_imageÂ (string)
welcome_messageÂ (string)
modulesÂ (object:Â {guestBook: boolean, guestBookText: boolean, guestBookAudio: boolean, guestBookVideo: boolean, crowdfunding: boolean, photoVideo: boolean, menuChoice: boolean, schedule: boolean})
crowdfunding_urlÂ (string)
themeÂ (enum: elegant, romantic, modern, boheme, default: elegant)
primary_colorÂ (string, default: #1e3a5f)
scheduleÂ (array of objects:Â {time: string, title: string, location: string})
publishedÂ (boolean, default: false)
AmbassadorÂ (Ambassadeurs de zone)
partner_idÂ (string,Â lien vers Partner)
user_emailÂ (string)
nameÂ (string)
zoneÂ (string)
departmentsÂ (string) : DÃ©partements couverts (CSV).
partners_recruitedÂ (integer, default: 0)
commission_earnedÂ (number, default: 0)
commission_rateÂ (number, default: 10)
statusÂ (enum: active, inactive, default: active)
BadgeÂ (DÃ©finition des badges de gamification)
nameÂ (string)
descriptionÂ (string)
iconÂ (string) : Nom de l'icÃ´ne Lucide React.
criteriaÂ (string) : CritÃ¨res d'obtention.
points_valueÂ (integer)
rarityÂ (enum: common, rare, epic, legendary, default: common)
activeÂ (boolean, default: true)
PartnerBadgeÂ (Badges attribuÃ©s aux partenaires)
partner_idÂ (string,Â lien vers Partner)
badge_idÂ (string,Â lien vers Badge)
earned_dateÂ (datetime)
DisputeÂ (Gestion des litiges)
booking_idÂ (string,Â lien vers Booking)
client_emailÂ (string)
client_nameÂ (string)
partner_idÂ (string,Â lien vers Partner)
partner_nameÂ (string)
reasonÂ (string)
descriptionÂ (string)
statusÂ (enum: open, in_progress, resolved, closed, default: open)
resolutionÂ (string)
resolved_dateÂ (datetime)
PlatformConfigÂ (Configuration globale de la plateforme)
config_keyÂ (string) : ClÃ© unique (ex:Â main_config).
platform_nameÂ (string)
support_emailÂ (string)
support_phoneÂ (string)
platform_commissionÂ (number, default: 15)
ambassador_commissionÂ (number, default: 10)
notificationsÂ (object:Â {new_partners: boolean, disputes: boolean, packages_pending: boolean})
securityÂ (object:Â {require_2fa_admin: boolean, require_email_verification: boolean})
RoomPlanÂ (Plans de salle prÃ©dÃ©finis)
nameÂ (string)
widthÂ (number)
lengthÂ (number)
capacityÂ (integer)
floor_materialÂ (string)
wall_materialÂ (string)
elementsÂ (array of objects) : Ã‰lÃ©ments du plan.
AdvantageConfigÂ (Configuration des avantages)
linkÂ (string)
descriptionÂ (string)
ğŸ”’Â 4. AUTHENTIFICATION ET AUTORISATION
L'authentification est gÃ©rÃ©e par la plateforme Base44.
Connexion/Inscription :Â UtilisezÂ base44.auth.redirectToLogin()Â pour rediriger vers la page de connexion Base44.
Utilisateur actuel :Â UtilisezÂ base44.auth.me()Â pour rÃ©cupÃ©rer l'objetÂ userÂ (id, email, full_name, role).
VÃ©rification de rÃ´le :Â user.roleÂ (admin, user, partner) doit Ãªtre utilisÃ© sur chaque page ou composant nÃ©cessitant un accÃ¨s restreint. Rediriger ou afficher un message d'erreur si le rÃ´le n'est pas autorisÃ©.
Mise Ã  jour profil :Â base44.auth.updateMe(data)Â pour les attributs supplÃ©mentaires du User (ex: phone_number, profile_picture_url).
Protection des routes :Â Sur chaque page (e.g.Â pages/ClientDashboard.js,Â pages/AdminPartners.js), implÃ©menter la logique suivante :
import { base44 } from '@/api/base44Client';
import { useEffect, useState } from 'react';
import { useNavigate } from 'react-router-dom';
export default function ClientDashboard() {
  const [user, setUser] = useState(null);
  const navigate = useNavigate();
  useEffect(() => {
    const checkAuth = async () => {
      try {
        const currentUser = await base44.auth.me();
        if (!currentUser || currentUser.role !== 'user') { // Ou 'partner' / 'admin' selon la page
          base44.auth.redirectToLogin(); // Redirection vers le login si non connectÃ© ou mauvais rÃ´le
          return;
        }
        setUser(currentUser);
      } catch (error) {
        console.error("Erreur d'authentification:", error);
        base44.auth.redirectToLogin();
      }
    };
    checkAuth();
  }, [navigate]);
  if (!user) {
    return <div>Chargement de l'utilisateur...</div>; // Ou un spinner de chargement
  }
  // ... Reste du code de la page ...
}
ğŸŒÂ 5. FONCTIONNALITÃ‰S PAR MODULE (Frontend & Backend)
5.1. PARTIE PUBLIQUE
Landing Page (pages/Landing.js)
Afficher les informations de la plateforme.
Les sections "Admin", "Client", "Partner" doivent rediriger vers les pages de login correspondantes (viaÂ base44.auth.redirectToLogin()) puis vers leur tableau de bord.
Backend :Â Aucune interaction directe, mais les donnÃ©es des sections (ex: nombre de partenaires/clients) pourraient venir de statistiques agrÃ©gÃ©es (via une fonction backend ou un dashboard Admin).
Marketplace (pages/Marketplace.js)
Afficher la liste desÂ PackageÂ etÂ BundleÂ disponibles.
Filtrer par catÃ©gorie (Partner.category), prix, localisation (Partner.location).
Trier par pertinence, popularitÃ©, prix.
Afficher les dÃ©tails d'unÂ PackageÂ ouÂ BundleÂ (description, features, images).
Action :Â "Contacter le prestataire" -> Rediriger vers la messagerie client-partenaire pour cetÂ Partner. "RÃ©server" -> Lancer le processus deÂ Booking.
Backend :Â base44.entities.Package.list(),Â base44.entities.Bundle.list(),Â base44.entities.Partner.list().
Inspirations (pages/Inspirations.js)
Afficher une galerie d'images (Inspiration).
Filtrer parÂ Category,Â Theme,Â Tags.
Afficher le photographe (Partner) et les partenaires associÃ©s (Partner).
Action :Â "J'aime" / "Sauvegarder" -> Enregistrer dansÂ UserInspiration.
Backend :Â base44.entities.Inspiration.list(),Â base44.entities.Category.list(),Â base44.entities.UserInspiration.create()/delete().
Podcasts (pages/PublicPodcasts.js)
Afficher la liste desÂ Podcast.
Filtrer parÂ Theme,Â TypeÂ (podcast/talkshow).
Lecture audio/vidÃ©o intÃ©grÃ©e.
Backend :Â base44.entities.Podcast.list().
5.2. PARTIE CLIENT (ConnectÃ© Ã Â EventÂ etÂ User)
Dashboard (pages/ClientDashboard.js)
Afficher un aperÃ§u de l'Ã©vÃ©nement en cours (Event).
Statut, date, localisation, nombre d'invitÃ©s.
Liste desÂ TaskÂ en cours,Â BookingÂ confirmÃ©es,Â InvoiceÂ Ã  payer.
Backend :Â base44.entities.Event.filter({created_by: user.email}),Â base44.entities.Task.filter({event_id: event.id}),Â base44.entities.Booking.filter({event_id: event.id}),Â base44.entities.Invoice.filter({client_email: user.email}).
Inspiration (pages/ClientInspiration.js)
Identique Ã  la partie publique, mais avec la possibilitÃ© de sauvegarder desÂ InspirationÂ pour sonÂ EventÂ dansÂ UserInspiration.
"Mon Moodboard" doit afficher lesÂ InspirationÂ sauvegardÃ©es (UserInspiration.filter({user_email: user.email, event_id: current_event.id})).
Action :Â Supprimer de son moodboard.
Backend :Â base44.entities.UserInspiration.create()/delete().
Photos (pages/ClientPhotos.js)
Afficher lesÂ PhotoÂ pour l'Ã©vÃ©nement.
Filtrer parÂ typeÂ (pro/guest),Â category.
Lien de collecte (EventSite.photoVideoÂ module) : Un lien unique (createFileSignedUrlÂ pour upload) pour les invitÃ©s et le photographe afin d'uploader des photos. Ces uploads doivent crÃ©er de nouvellesÂ PhotoÂ en BDD.
Action :Â "J'aime" (Photo.likes,Â Photo.liked_by), "TÃ©lÃ©charger" une photo (viaÂ CreateFileSignedUrlÂ si privÃ©e).
Backend :Â base44.entities.Photo.filter({event_id: event.id}),Â base44.integrations.Core.UploadFile()Â (pour l'upload invitÃ©/photographe),Â base44.integrations.Core.CreateFileSignedUrl()Â pour le tÃ©lÃ©chargement.
VidÃ©os (pages/ClientVideos.js)
Afficher lesÂ VideoÂ pour l'Ã©vÃ©nement.
Filtrer parÂ typeÂ (pro/guest).
Lien de collecte pour les invitÃ©s (upload deÂ Video).
FonctionnalitÃ© :Â Player vidÃ©o avec timecode et commentaires.
LesÂ VideoCommentÂ doivent Ãªtre affichÃ©s sur la timeline.
Un client peut ajouter desÂ VideoCommentÂ Ã  une vidÃ©o (VideoComment.create()).
Backend :Â base44.entities.Video.filter({event_id: event.id}),Â base44.integrations.Core.UploadFile(),Â base44.entities.VideoComment.list()/create().
Menu & Tables (pages/ClientCatering.js)
GÃ©rer lesÂ MenuItemÂ proposÃ©s par le traiteur (Partner).
Les clients peuvent indiquer les prÃ©fÃ©rences de menu pour leurs invitÃ©s (GuestMenuChoice).
FonctionnalitÃ© :Â Plan de table dynamique, visualisation et organisation des tables.
Backend :Â base44.entities.MenuItem.list(),Â base44.entities.GuestMenuChoice.list()/create()/update().
Playlist DJ (pages/ClientPlaylist.js)
Le client crÃ©e saÂ PlaylistÂ pour l'Ã©vÃ©nement.
Ajouter des morceaux, titres Ã  Ã©viter, moments spÃ©cifiques.
Partager avec leÂ PartnerÂ DJ.
Backend :Â base44.entities.Playlist.create()/update().
Podcast (pages/ClientPodcast.js)
Identique Ã  la partie publique, mais peut-Ãªtre avec des options supplÃ©mentaires liÃ©es Ã  l'Ã©vÃ©nement (ex: un podcast de mariage enregistrÃ© sur la plateforme).
Backend :Â base44.entities.Podcast.list().
Plan de salle (pages/ClientFloorPlan.js)
Utilise l'entitÃ©Â RoomPlanÂ et permet de dÃ©finir les Ã©lÃ©ments.
Visualisation 2D et 3D de la disposition des tables et Ã©lÃ©ments.
Lien avecÂ GuestMenuChoiceÂ pour l'affectation des invitÃ©s aux places.
Backend :Â base44.entities.RoomPlan.list()/create()/update().
Documents (pages/ClientDocuments.js)
GÃ©nÃ©rer des documents (briefing, rÃ©cap) Ã  partir de modÃ¨les.
Personnaliser avec logo, couleurs (viaÂ EventSiteÂ settings).
Exporter en PDF/Word (utiliserÂ jsPDFÂ cÃ´tÃ© client ou une fonction backend pour un rendu plus complexe).
Backend :Â Une fonction backend (functions/generateDocument.js) pourrait Ãªtre utilisÃ©e pour la gÃ©nÃ©ration de PDF complexes avec des donnÃ©es d'Ã©vÃ©nement, puis stocker le fichier gÃ©nÃ©rÃ© viaÂ UploadFile().
Facturation (pages/ClientBilling.js)
Afficher lesÂ InvoiceÂ liÃ©es Ã  l'Ã©vÃ©nement.
Statut de paiement, dates d'Ã©chÃ©ance.
Action :Â "Payer" -> IntÃ©gration Stripe pour un paiement sÃ©curisÃ©.
Backend :Â base44.entities.Invoice.filter(),Â IntÃ©gration StripeÂ (via fonctions backend pour crÃ©er PaymentIntents).
Notifications (pages/ClientNotifications.js)
Afficher lesÂ NotificationÂ pour le client.
Filtrer par lues/non lues.
Backend :Â base44.entities.Notification.filter({user_email: user.email}).
Messages (pages/ClientMessages.js)
Liste desÂ ConversationÂ du client.
Vue dÃ©taillÃ©e d'uneÂ ConversationÂ avec lesÂ MessageÂ associÃ©s.
FonctionnalitÃ© :Â Envoyer des messages, joindre des fichiers (UploadFile).
Backend :Â base44.entities.Conversation.list(),Â base44.entities.Message.list()/create(). Utiliser desÂ abonnements temps rÃ©elÂ (base44.entities.Message.subscribe()) pour les nouveaux messages.
Contrats (pages/ClientContracts.js)
Afficher lesÂ ContractÂ du client.
Statut (brouillon, en attente, signÃ©).
FonctionnalitÃ© :Â Visualisation du contrat, signature Ã©lectronique (avecÂ signature_dataÂ base64).
Backend :Â base44.entities.Contract.list()/update().
Assistant IA (pages/ClientAI.js)
IntÃ©gration d'un agent AI ou deÂ base44.integrations.Core.InvokeLLMÂ pour aider Ã  la planification.
Backend :Â base44.integrations.Core.InvokeLLM().
5.3. PARTIE PARTENAIRE (ConnectÃ© Ã Â PartnerÂ etÂ User)
Dashboard (pages/PartnerDashboard.js)
AperÃ§u des performances duÂ PartnerÂ :Â events_count,Â rating,Â reviews_count.
Liste desÂ BookingÂ confirmÃ©es et desÂ TaskÂ assignÃ©es.
Gamification : Afficher lesÂ BadgeÂ obtenus (PartnerBadge) et la progression.
Backend :Â base44.entities.Partner.get(partner.id),Â base44.entities.Booking.filter({partner_id: partner.id}),Â base44.entities.Task.filter({assigned_to_email: user.email}),Â base44.entities.PartnerBadge.filter({partner_id: partner.id}),Â base44.entities.Badge.list().
Calendrier (pages/PartnerCalendar.js)
Afficher lesÂ BookingÂ et les indisponibilitÃ©s duÂ Partner.
GÃ©rer les disponibilitÃ©s (empÃªcher lesÂ BookingÂ en cas de conflit).
Backend :Â base44.entities.Booking.filter({partner_id: partner.id}).
Statistiques (pages/PartnerStats.js)
Tableaux de bord dynamiques avecÂ rechartsÂ (revenus, nombre d'Ã©vÃ©nements, satisfaction).
BasÃ©s sur lesÂ Booking,Â Invoice,Â ReviewÂ liÃ©s auÂ Partner.
Backend :Â AgrÃ©gation de donnÃ©es via des requÃªtesÂ base44.entities.Booking.filter(),Â base44.entities.Invoice.filter(),Â base44.entities.Review.filter()Â ou une fonction backend spÃ©cifique pour des calculs complexes.
Galerie (pages/PartnerGallery.js)
Afficher lesÂ PhotoÂ etÂ VideoÂ duÂ Partner.
Action :Â Upload de nouvelles photos/vidÃ©os (UploadFile).
Backend :Â base44.entities.Photo.filter({uploader_email: user.email}),Â base44.entities.Video.filter({uploader_email: user.email}),Â base44.integrations.Core.UploadFile().
Plan de salle (pages/PartnerFloorPlan.js)
Pour les partenaires "Lieu", gÃ©rer lesÂ RoomPlan.
Backend :Â base44.entities.RoomPlan.filter({created_by: user.email}).
Gestion des Packages (pages/PartnerBundleCreation.js,Â pages/PartnerMarketplace.js)
CrÃ©er et gÃ©rer lesÂ PackageÂ (Package.create()/update()/delete()).
DÃ©finir prix, features, images (UploadFile).
Soumettre pour validation (Package.status = 'pending').
Backend :Â base44.entities.Package.list()/create()/update()/delete().
Gamification (pages/PartnerGamification.js)
Afficher les badges (Badge,Â PartnerBadge) et le classement.
Logique d'attribution des badges (peut Ãªtre via des automations Base44 ou fonctions backend Ã©coutant les Ã©vÃ©nementsÂ ReviewÂ ouÂ Booking).
Backend :Â base44.entities.Badge.list(),Â base44.entities.PartnerBadge.filter().
Messages (pages/PartnerMessages.js)
Identique Ã Â ClientMessages, mais pour le partenaire.
Backend :Â base44.entities.Conversation.list(),Â base44.entities.Message.list()/create().
TÃ¢ches (pages/PartnerTasks.js)
CrÃ©er et gÃ©rer lesÂ TaskÂ liÃ©es Ã  ses Ã©vÃ©nements.
Backend :Â base44.entities.Task.list()/create()/update()/delete().
Mini-sites (pages/PartnerMiniSites.js,Â pages/PartnerMiniSiteBuilder.js)
Pour certains partenaires (ex: photographes, lieux), gestion de leur propre mini-site ou page de prÃ©sentation.
Backend :Â EntitÃ©Â PartnerMiniSiteÂ (Ã  crÃ©er si besoin), ou rÃ©utilisation d'EventSiteÂ avecÂ partner_id.
5.4. PARTIE ADMINISTRATEUR (ConnectÃ© Ã  tous lesÂ Entity)
Dashboard (pages/AdminDashboard.js)
Vue d'ensemble de l'activitÃ© plateforme : nombre d'utilisateurs (User), partenaires (Partner), Ã©vÃ©nements (Event), transactions (Invoice,Â Booking).
Statistiques globales.
Backend :Â base44.entities.User.list(),Â base44.entities.Partner.list(),Â base44.entities.Event.list(), agrÃ©gations diverses.
Gestion Partenaires (pages/AdminPartners.js)
Liste de tous lesÂ Partner.
Actions :Â ModifierÂ Partner.statusÂ (pending -> active/suspended),Â verified,Â subscription.
GÃ©rer les litiges (Dispute).
Backend :Â base44.entities.Partner.list()/update(),Â base44.entities.Dispute.list().
Gestion Clients (pages/AdminClients.js)
Liste de tous lesÂ UserÂ (rÃ´le 'user') etÂ Event.
Voir lesÂ Invoice,Â Contract,Â BookingÂ d'un client.
Backend :Â base44.entities.User.filter({role: 'user'}),Â base44.entities.Event.list(),Â base44.entities.Invoice.list(), etc.
Gestion Marketplace (pages/AdminMarketplace.js)
Liste desÂ PackageÂ avec statutÂ pending.
Actions :Â Valider/rejeter (Package.status = 'approved'/'rejected').
GÃ©rer lesÂ Bundle.
Backend :Â base44.entities.Package.filter({status: 'pending'})/update(),Â base44.entities.Bundle.list()/create()/update()/delete().
Gestion Inspirations (pages/AdminInspirations.js)
GÃ©rer lesÂ Inspiration,Â Category,Â Trend.
Actions :Â Ajouter/Modifier/Supprimer.
Backend :Â base44.entities.Inspiration.list()/create()/update()/delete(),Â base44.entities.Category.list()/create()/update()/delete(),Â base44.entities.Trend.list()/create()/update()/delete().
Statistiques (pages/AdminStats.js)
Tableaux de bord consolidÃ©s pour toute la plateforme.
Tableaux de bord dynamiques (nombre d'inscriptions, abonnements actifs, taux de rÃ©tention, Ã©vÃ©nements crÃ©Ã©s, budget moyen).
Rapports exportables (Excel/PDF) - nÃ©cessiterait une fonction backend dÃ©diÃ©e.
Backend :Â AgrÃ©gations sur toutes les entitÃ©s, potentiellement via des fonctions backend optimisÃ©es pour les rapports.
Ambassadeurs (pages/AdminAmbassadors.js)
GÃ©rer lesÂ Ambassador.
Actions :Â CrÃ©er unÂ AmbassadorÂ en liant Ã  unÂ Partner, modifier zones.
Suivre les partenaires recrutÃ©s (Ambassador.partners_recruited) et commissions (Ambassador.commission_earned).
Backend :Â base44.entities.Ambassador.list()/create()/update(),Â base44.entities.Partner.list().
RÃ¨gle mÃ©tier :Â Mettre en place uneÂ Automation Base44 (Entity Event type: 'create' sur Partner)Â qui, siÂ PartnerÂ n'a pas de parrainage, assigne Ã  l'AmbassadorÂ du dÃ©partement concernÃ© et incrÃ©menteÂ partners_recruited.
Awards (pages/AdminAwards.js)
GÃ©rer lesÂ BadgeÂ etÂ PartnerBadge.
DÃ©finir les critÃ¨res d'attribution des badges.
Backend :Â base44.entities.Badge.list()/create()/update()/delete(),Â base44.entities.PartnerBadge.list()/delete().
ParamÃ¨tres (pages/AdminSettings.js)
Modifier les configurations globales de la plateforme (PlatformConfig).
Ex: commissions, notifications.
Backend :Â base44.entities.PlatformConfig.get()/update().
ğŸ”€Â 6. INTERACTIONS ENTRE MODULES ET BACK OFFICE
Flux Client-Partenaire :
Un client organise unÂ Event.
Il cherche desÂ PackageÂ sur laÂ Marketplace.
Il rÃ©serve unÂ PackageÂ -> crÃ©ation d'unÂ Booking.
LeÂ BookingÂ gÃ©nÃ¨re potentiellement unÂ ContractÂ et uneÂ Invoice.
Client et partenaire communiquent viaÂ MessageÂ dans uneÂ ConversationÂ liÃ©e auÂ BookingÂ ou Ã  l'Event.
AprÃ¨s l'Ã©vÃ©nement, le client peut laisser uneÂ ReviewÂ pour leÂ Partner.
Flux Partenaire-Plateforme :
UnÂ UserÂ s'inscrit commeÂ Partner.
L'Admin peut valider son statut (Partner.status).
LeÂ PartnerÂ crÃ©e sesÂ PackageÂ et les soumet Ã  l'Admin pour approbation.
LeÂ PartnerÂ reÃ§oit des notifications (Notification) pour les nouveauxÂ BookingÂ ou messages.
La gamification (Badge,Â PartnerBadge) est mise Ã  jour automatiquement.
Flux Admin :
L'Admin supervise tous lesÂ Event,Â Partner,Â User,Â Booking,Â Invoice,Â Dispute.
L'Admin valide lesÂ PackageÂ (Package.status).
L'Admin gÃ¨re lesÂ Ambassador.
L'Admin configure les paramÃ¨tres globaux (PlatformConfig).
Mini-sites :
Un client (User) peut configurer unÂ EventSiteÂ pour sonÂ Event.
LeÂ EventSiteÂ regroupe lesÂ Photo,Â Video,Â GuestBook,Â GuestMenuChoiceÂ spÃ©cifiques Ã  l'Ã©vÃ©nement.
Le slug duÂ EventSiteÂ est liÃ© Ã  l'Event.
Uploads :Â Tous les uploads de fichiers (images deÂ Package,Â Inspiration,Â Photo,Â Video, piÃ¨ces jointes deÂ Message, documents gÃ©nÃ©rÃ©s) doivent utiliserÂ base44.integrations.Core.UploadFile()Â et stocker lesÂ file_urlÂ dans les entitÃ©s correspondantes. Pour les fichiers privÃ©s,Â UploadPrivateFileÂ etÂ CreateFileSignedUrlÂ doivent Ãªtre utilisÃ©s.
ğŸ› ï¸Â 7. DÃ‰VELOPPEMENT ET OUTILS SPÃ‰CIFIQUES
Utilisation du SDK Base44 :
CRUD EntitÃ©s :Â base44.entities.EntityName.list(),Â .get(id),Â .create(data),Â .update(id, data),Â .delete(id).
Authentification :Â base44.auth.me(),Â base44.auth.updateMe(),Â base44.auth.redirectToLogin().
Upload de fichiers :Â base44.integrations.Core.UploadFile(),Â base44.integrations.Core.UploadPrivateFile(),Â base44.integrations.Core.CreateFileSignedUrl().
Fonctions Backend :Â base44.functions.invoke('functionName', payload).
Abonnements temps rÃ©el :Â base44.entities.EntityName.subscribe()Â pour les messages, notifications, etc.
Gestion d'Ã©tat :Â useState,Â useEffect,Â useQueryÂ deÂ @tanstack/react-queryÂ pour la gestion des donnÃ©es asynchrones et du cache.
Composants UI :Â Utiliser les composants Shadcn/UI existants et les Ã©tendre si nÃ©cessaire.
Animations :Â framer-motionÂ pour des transitions fluides.
GÃ©nÃ©ration de PDF :Â jspdfÂ pour la gÃ©nÃ©ration de documents cÃ´tÃ© client. Une fonction backend pourrait Ãªtre envisagÃ©e pour des besoins plus complexes ou pour gÃ©rer de gros volumes de donnÃ©es.
IntÃ©gration Stripe :Â NÃ©cessitera la configuration de secrets (API keys) via l'interface Base44 et l'implÃ©mentation de fonctions backend pour crÃ©er desÂ PaymentIntentÂ et gÃ©rer les webhooks.
ğŸ“Â 8. POINTS D'ATTENTION ET RÃˆGLES DE DÃ‰VELOPPEMENT
SÃ©curitÃ© :
Toujours vÃ©rifier les rÃ´les (user.role) avant d'autoriser l'accÃ¨s ou les actions sensibles.
Valider les entrÃ©es utilisateur cÃ´tÃ© frontend et backend (si fonctions backend).
GÃ©rer lesÂ file_urlÂ sensibles viaÂ UploadPrivateFileÂ etÂ CreateFileSignedUrlÂ avec des durÃ©es de vie limitÃ©es.
Performance :
UtiliserÂ useQueryÂ pour optimiser les appels API et le caching.
ImplÃ©menter le chargement progressif (pagination, infinite scroll) pour les grandes listes.
Optimiser les requÃªtes BDD (filtres, tris).
ExpÃ©rience Utilisateur :
Afficher des indicateurs de chargement (Loader2Â icon) pour toutes les opÃ©rations asynchrones.
Utiliser des toasts (sonner) pour les retours utilisateur (succÃ¨s, erreur, info).
Maintenir la cohÃ©rence visuelle et interactive de la MVP.
Gestion des erreurs :
ImplÃ©menter desÂ try/catchÂ pour les appels API dans les fonctions backend.
GÃ©rer les Ã©tats d'erreur dans le frontend.
Code Propre :Â Respecter les conventions de nommage, la modularitÃ© (composants petits et rÃ©utilisables), et la lisibilitÃ© du code.
ğŸš€Â 9. FEUILLE DE ROUTE RECOMMANDÃ‰E POUR LE DÃ‰VELOPPEUR
Phase d'initialisation (1-2 jours) :
Cloner le projet Base44.
VÃ©rifier que toutes les entitÃ©s (entities/*.json) sont bien dÃ©ployÃ©es sur Base44.
Mettre en place l'authentificationÂ base44.auth.me()Â et les redirections par rÃ´le sur toutes les pages principales (DashboardLayout,Â ClientDashboard,Â PartnerDashboard,Â AdminDashboard, etc.).
Remplacer lesÂ userNameÂ hardcodÃ©s parÂ user.full_nameÂ ouÂ user.email.
Phase de connexion Backend - Modules Clients (PrioritÃ© Haute) :
ClientDashboard :Â Afficher les vrais Ã©vÃ©nements, tÃ¢ches, rÃ©servations, factures.
ClientMessages :Â ConnecterÂ ConversationÂ etÂ MessageÂ avec abonnement temps rÃ©el.
ClientPhotos / ClientVideos :Â ConnecterÂ PhotoÂ etÂ Video, implÃ©menter l'upload viaÂ base44.integrations.Core.UploadFile()Â et le lien de collecte.
ClientMiniSite :Â Persister les configurations dansÂ EventSite.
ClientInspiration :Â UtiliserÂ InspirationÂ etÂ UserInspirationÂ pour le moodboard.
Phase de connexion Backend - Modules Partenaires (PrioritÃ© Moyenne) :
PartnerDashboard :Â Afficher les vrais Ã©vÃ©nements, stats, badges.
PartnerMarketplace :Â Connecter la crÃ©ation/Ã©dition desÂ Package.
PartnerCalendar :Â Afficher les Ã©vÃ©nements du partenaire (Booking).
Phase de connexion Backend - Modules Administrateurs (PrioritÃ© Moyenne) :
AdminPartners / AdminClients / AdminMarketplace :Â Lister et gÃ©rer les entitÃ©s correspondantes. ImplÃ©menter la validation desÂ PackageÂ par l'admin.
AdminAmbassadors :Â Lier Ã  l'entitÃ©Â Ambassador, gÃ©rer le recrutement de partenaires. Mettre en place l'automation pour l'attribution automatique.
AdminSettings :Â Persister les configurations dansÂ PlatformConfig.
Phase d'IntÃ©grations et AvancÃ©es (PrioritÃ© Moyenne/Basse) :
ClientBilling :Â IntÃ©gration Stripe pour le paiement desÂ Invoice.
ClientDocuments :Â Rendre la gÃ©nÃ©ration de PDF fonctionnelle avec les donnÃ©es rÃ©elles et la possibilitÃ© de sauvegarder le PDF gÃ©nÃ©rÃ©.
ClientContracts :Â ImplÃ©menter la signature Ã©lectronique.
Gamification :Â Mettre en place la logique d'attribution desÂ BadgeÂ et l'incrÃ©mentation desÂ gamification_pointsÂ pour lesÂ Partner.